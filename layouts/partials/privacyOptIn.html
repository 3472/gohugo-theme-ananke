<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script>
<script>
    const KEY_COOKIE_OPT_IN = "cookieOptIn";
    window.cookieconsent.initialise({
        "palette": {
            "popup": {
                "background": "#000"
            },
            "button": {
                "background": "#f1d600"
            }
        },
        "theme": "classic",
        "position": "bottom-right",
        "type": "opt-in",
        onInitialise: function (status) {
            var didConsent = this.hasConsented();
            if (didConsent) {
                console.log("enable cookies");
                localStorage.setItem(KEY_COOKIE_OPT_IN, true);
            }
            else {
                localStorage.removeItem(KEY_COOKIE_OPT_IN);
            }
        },
        onStatusChange: function (status, chosenBefore) {
            var didConsent = this.hasConsented();
            if (didConsent) {
                localStorage.setItem(KEY_COOKIE_OPT_IN, true);
            }
            else {
                localStorage.removeItem(KEY_COOKIE_OPT_IN);
            }
            //reload page for updated cookies
            location.reload();

        },
        onRevokeChoice: function () {
            localStorage.removeItem(KEY_COOKIE_OPT_IN);
        }
    });

</script>